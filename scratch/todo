hierarchy
  user ("Me")
    relationships ("People")
    entities 
      tags
      comments
      relationships
    stories ("Stories")
      entities
        ...
      tags
      relationships

resulting routes/api
  / 
    /people
    /entities 
      /entities/:id/comments
      /entities/:id/tags
      /entities/:id/relationships {user_id: 123}
    /stories
      /stories/:id/entities
      /stories/:id/tags
      /entities/:id/relationships {user_id: 123}
  /timeline
    /timeline/tag/:tag_name
    /timeline/stories
    /timeline/person/:person_id



api has routes to 
  timelines
    [\] show my timeline
    [\] show my timeline for a specific tag
    [ ] show my common timeline with a specific person
    [ ] + pagination
    [ ] show my timeline stories
  entities
    [X] create an entity
    [X] update an entity
    [X] destroy an entity
    add/remove a
      [X] tag
      [ ] person
      [ ] comment
        [ ] update comment
    stories
      [ ] move an entity to a story
      [ ] move an entity out of a story (?)


Entity(title, note, date, time)[Todo, Asset, Message, Event]
  Tags
  Relationships
  Comments
  (Story)


pieces
  well-defined
    [ ] authentication (email + oauth)
    [ ] shell accounts (for invited users)
    [ ] entities
    [ ] stories -> optionally nest entities unders stories
    [ ] tags, comments, people for entities
    [ ] subclassing entities
      [ ] todo
        [ ] ?
      [ ] message
        [ ] can use comments as messages (but alias out term "comments")
        [ ] ?
      [ ] event
        [ ] map
        [ ] ?
      [ ] asset
        [ ] file upload
        [ ] ?
    [ ] fetch entities/stories in common with another person
  later/undefined
    [ ] 3rd party api calls (e.g. grab facebook data)
    [ ] mailer
    [ ] profile
    [ ] unique slugs for entity ids? e.g. /entities/123/entity-title

todo
  [ ] validate tag names e.g. "all-lower-case-hyphen-separated"
  [ ] add object class to timeline json
  [ ] move "request" specs
  [ ] spec param filtering? (e.g. no foreign key or type setting)


api schedule
  week 1 (half week)
    [X] start rails 4 app
    [\] authentication
      [X] email (devise)
      [ ] oauth (omniauth)
        [ ] facebook
        [ ] linkedin
        [ ] google
    [ ] invited user shell accounts
  week 2
    [X] start entities
    [\] entities
      [\] tags
      [ ] comments
    [\] timelines
      [X] full
      [\] by tag
    [ ] entities
      [ ] people
    [ ] start basic authorization
      [ ] permissions on entities where entity.people.include?(user)
      [ ] permissions on comments where entity.people.include?(user)
    [ ] stories
      [ ] optionally nest entities
    [ ] timelines
      [ ] stories
      [ ] full to include stories
      [ ] by person
  week 3
    start subclassing entities
      asset
        file upload (paperclip)
          set up example upload form for front-end
      event
        mappable
      todo
      message
